<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('./partials/head'); %>
        <title>Upload</title>
</head>

<header class="w3-container w3-top w3-hide-large w3-indigo w3-xlarge w3-padding">
    <%- include('./partials/header'); %>
</header>

<nav class="w3-sidebar w3-indigo w3-collapse w3-top w3-large w3-padding" style="z-index:3;width:300px;font-weight:bold;"
    id="mySidebar">
    <%- include('./partials/navbar') %>
</nav>

<div class="w3-main" style="margin-left:340px;margin-right:40px">
    <div class="w3-container" style="margin-top:80px" id="showcase">
        <h1 class="w3-xxlarge"><b>Uploading</b></h1>
        <h1 class="w3-xlarge w3-text-indigo"><b>Page</b></h1>
        <hr style="width:100px;border:5px solid #3f51b5" class="w3-round">
        <form name="uploadForm" onsubmit="showLoading()" method="post" action="/post" enctype="multipart/form-data">
            <div class="w3-section">
                <label class="w3-text-indigo">Upload under username : <%= username %></label>
                <br><br><label>Name</label>
                <input class="w3-input w3-border" type="text" name="postName" placeholder="Enter file name" required>
            </div>
            <div class="w3-section">
                <label>Description</label>
                <textarea class="w3-input w3-border" maxlength="1023" name="postDesp"
                    placeholder="Enter file description" required></textarea>
            </div>
            <input type="file" id="fileInput" name="attachment" required>
            <button type="submit" value="send"
                class="w3-button w3-block w3-padding-large w3-indigo w3-margin-bottom">Upload</button>
        </form>
    </div>
</div>

<div id="loading" style="display: none;" class="loading-state">
    <div class="loading"></div>
</div>

<script>
    function showLoading() {
        const loading = document.getElementById('loading');
        loading.style.display = 'flex';
    };
</script>

</html>